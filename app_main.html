<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>App Financeiro do Motorista</title>
  <script>window.APP_BASE_URL = "<?= ScriptApp.getService().getUrl() ?>";</script>
  <meta name="theme-color" content="#6C63FF">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Financeiro">
  <meta name="description" content="Controle financeiro profissional para motoristas de aplicativo">
  <link rel="manifest" href="<?= ScriptApp.getService().getUrl() ?>?manifest=true">
  <?!= include('app_css') ?>
</head>

<body class="theme-dark">
  <div id="app-loading" class="loading-overlay">
    <div class="loading-spinner"></div>
    <p id="app-loading-text">Carregando...</p>
    <button id="app-loading-retry" class="btn-secondary btn-sm" style="display:none">Tentar novamente</button>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <span class="sidebar-logo">ğŸš—</span>
      <span class="sidebar-title">Financeiro</span>
      <button id="sidebar-close" class="sidebar-close" aria-label="Fechar menu">âœ•</button>
    </div>
    <nav class="sidebar-nav">
      <a href="#" class="nav-item active" data-route="dashboard"><span class="nav-icon">ğŸ“Š</span> Dashboard</a>
      <a href="#" class="nav-item" data-route="transactions"><span class="nav-icon">ğŸ“‹</span> LanÃ§amentos</a>
      <a href="#" class="nav-item" data-route="installments"><span class="nav-icon">ğŸ’³</span> Parcelas</a>
      <a href="#" class="nav-item" data-route="cartoes"><span class="nav-icon">ğŸª™</span> CartÃµes</a>
      <a href="#" class="nav-item" data-route="accounts"><span class="nav-icon">ğŸ¦</span> Contas</a>
      <a href="#" class="nav-item" data-route="categories"><span class="nav-icon">ğŸ·ï¸</span> Categorias</a>
      <a href="#" class="nav-item" data-route="reports"><span class="nav-icon">ğŸ“ˆ</span> RelatÃ³rios</a>
      <a href="#" class="nav-item" data-route="settings"><span class="nav-icon">âš™ï¸</span> ConfiguraÃ§Ãµes</a>
    </nav>
    <div class="sidebar-footer">
      <span id="user-email" class="user-email"></span>
    </div>
  </aside>

  <div id="sidebar-overlay" class="sidebar-overlay"></div>

  <main id="main-content" class="main-content">
    <header class="topbar">
      <button id="menu-btn" class="menu-btn" aria-label="Menu">â˜°</button>
      <div class="topbar-center">
        <button id="prev-month" class="month-nav" aria-label="MÃªs anterior">â—€</button>
        <span id="month-display" class="month-display"></span>
        <button id="next-month" class="month-nav" aria-label="PrÃ³ximo mÃªs">â–¶</button>
      </div>
      <div class="topbar-actions">
        <button id="btn-add-tx" class="btn-primary btn-sm">+ LanÃ§amento</button>
        <button id="btn-theme" class="btn-icon" aria-label="Alternar tema">ğŸŒ™</button>
      </div>
    </header>

    <div id="content" class="content"></div>
  </main>

  <div id="modal-overlay" class="modal-overlay hidden">
    <div id="modal-container" class="modal-container">
      <div class="modal-header">
        <h3 id="modal-title"></h3>
        <button id="modal-close" class="modal-close">âœ•</button>
      </div>
      <div id="modal-body" class="modal-body"></div>
      <div id="modal-footer" class="modal-footer"></div>
    </div>
  </div>

  <div id="toast-container" class="toast-container"></div>

  <?!= include('app_js') ?>
  <?!= include('AuthAppBridge') ?>
</body>

</html>
